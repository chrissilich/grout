function padToLength(r,n,o,t){for(r=r.toString();r.length<n;)t?r=o+r:r+=o;return r}function loadImages(r,n,o){r instanceof Array||(r=[r]);for(var t=r.length,e=0,i=t;i--;){console.log("loading "+r[i]);var a=document.createElement("img");a.onload=function(){e++,e>=t&&isFunction(n)&&n(o)},a.src=r[i]}}function isFunction(r){var n={};return r&&"[object Function]"==n.toString.call(r)}function randOrd(){return Math.round(Math.random())-.5}function shuffle(r){return r.sort(randOrd)}function sortArrayOn(r,n){return r.sort(function(r,o){return(r[n]>o[n])-(r[n]<o[n])})}function sortArrayOnFauxY(r){return r.sort(function(r,n){return parseInt(r.y)>parseInt(n.y)?1:parseInt(r.y)<parseInt(n.y)?-1:0})}function setCookie(r,n,o){var t=new Date;t.setDate(t.getDate()+o);var e=escape(n)+(null==o?"":"; expires="+t.toUTCString());document.cookie=r+"="+e}function getCookie(r){var n,o,t,e=document.cookie.split(";");for(n=0;n<e.length;n++)if(o=e[n].substr(0,e[n].indexOf("=")),t=e[n].substr(e[n].indexOf("=")+1),o=o.replace(/^\s+|\s+$/g,""),o==r)return unescape(t)}function d2r(r){return r*(Math.PI/180)}function _GET(r){var n={},o=window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(r,o,t){n[o]=t});return n[r]?n[r]:void 0}function removeFromArrayByIndex(r,n){r.splice(n,1)}if("undefined"==typeof console){var console={},consolearray=[];console.log=console.groupCollapsed=console.error=console.info=console.debug=console.warn=console.trace=console.dir=console.dirxml=console.group=console.groupEnd=console.time=console.timeEnd=console.assert=console.profile=function(r){consolearray.push(r)}}Date.now||(Date.now=function r(){return(new Date).getTime()}),Array.prototype.frontToBack||(Array.prototype.frontToBack=function(){this.push(this.shift())}),Array.prototype.last||(Array.prototype.last=function(){return this[this.length-1]}),Array.prototype.forEach||(Array.prototype.forEach=function(r,n){var o,t;if(null==this)throw new TypeError(" this is null or not defined");var e=Object(this),i=e.length>>>0;if("function"!=typeof r)throw new TypeError(r+" is not a function");for(arguments.length>1&&(o=n),t=0;i>t;){var a;t in e&&(a=e[t],r.call(o,a,t,e)),t++}}),String.prototype.trim=function(){return this.replace(/^\\s*(\\S*(\\s+\\S+)*)\\s*$/,"$1")},Array.prototype.filter||(Array.prototype.filter=function(r){"use strict";if(null==this)throw new TypeError;var n=Object(this),o=n.length>>>0,t,e,i,a;if("function"!=typeof r)throw new TypeError;for(t=[],e=arguments[1],i=0;o>i;i++)i in n&&(a=n[i],r.call(e,a,i,n)&&t.push(a));return t}),Array.prototype.indexOf||(Array.prototype.indexOf=function(r){var n=this.length>>>0,o=Number(arguments[1])||0;for(o=0>o?Math.ceil(o):Math.floor(o),0>o&&(o+=n);n>o;o++)if(o in this&&this[o]===r)return o;return-1});