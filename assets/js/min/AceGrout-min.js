$(document).ready(function(){console.time("AceGrout");var o=[0,768,768,1e3],r=!0,e=!0;if(r){var t=function(){return Math.floor(255*Math.random())};$(".grout .brick").each(function(){$(this).css("background-color","rgb("+t()+","+t()+","+t()+")")})}var n;window.grid=n;var s=function(o){n=[];for(var r=$(".brick").length,e=0;r>e;e++){for(var t=[],s=0;o>s;s++)t.push(null);n.push(t)}},a=function(o,r,e){for(var t=0;t<n.length;t++)for(var s=0;s<n[t].length;s++){for(var a=!1,i=0;r>i;i++)for(var c=0;o>c;c++)n[t+i]&&(n[t+i][s+c]||"undefined"==typeof n[t+i][s+c])&&(a=!0);if(!a){for(var i=0;r>i;i++)for(var c=0;o>c;c++)n[t+i][s+c]=!0;return void(n[t][s]=e)}}},i=function(){for(var r=0,e=$(window).innerWidth(),t=o.slice(0);e>t[0]&&t.length;)t.shift(),r++;if(!$(".grout").hasClass("cols-"+r)){console.log("RESIZING TO "+r+" COLUMNS!"),$(".grout").removeClass("cols-1").removeClass("cols-2").removeClass("cols-3").removeClass("cols-4").removeClass("cols-5").addClass("cols-"+r),s(r),$(".grout .brick").hide().appendTo(".grout").each(function(){var o=parseInt($(this).attr("brick-width")),r=parseInt($(this).attr("brick-height"));a(o,r,this)}),$(".grout .row").remove();for(var i=[],c=0;c<n.length;c++){for(var l=!1,f=0;f<n[c].length;f++)n[c][f]&&(l=!0);l&&i.push($("<div class='row'>"))}$(i).each(function(){$(this).appendTo(".grout")});for(var c=0;c<n.length;c++)for(var f=0;f<n[c].length;f++)"object"==typeof n[c][f]&&$(n[c][f]).css({left:f*(100/r)+"%"}).appendTo($(i[c])).show()}};i(),e&&$().scrollsnap&&$(document).scrollsnap({snaps:".row",proximity:500,latency:100}),$(window).on("resize orientationchange",i),console.timeEnd("AceGrout")});