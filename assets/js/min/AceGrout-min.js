$(document).ready(function(){console.time("AceGrout");var o=[0,768,768,1e3],r=!1,e=!0,t;window.grid=t;var n=$(".grout .tile");if(window.tiles=n,r){var s=function(){return Math.floor(255*Math.random())};$(n).each(function(){$(this).css("background-color","rgb("+s()+","+s()+","+s()+")")})}var a=function(o){t=[];for(var r=n.length,e=0;r>e;e++){for(var s=[],a=0;o>a;a++)s.push(null);t.push(s)}},i=function(o,r,e){for(var n=0;n<t.length;n++)for(var s=0;s<t[n].length;s++){for(var a=!1,i=0;r>i;i++)for(var l=0;o>l;l++)t[n+i]&&(t[n+i][s+l]||"undefined"==typeof t[n+i][s+l])&&(a=!0);if(!a){for(var i=0;r>i;i++)for(var l=0;o>l;l++)t[n+i][s+l]=!0;return void(t[n][s]=e)}}},l=function(){for(var r=0,e=$(window).innerWidth(),s=o.slice(0);e>s[0]&&s.length;)s.shift(),r++;if(!$(".grout").hasClass("cols-"+r)){console.log("RESIZING TO "+r+" COLUMNS!"),$(".grout").removeClass("cols-1").removeClass("cols-2").removeClass("cols-3").removeClass("cols-4").removeClass("cols-5").addClass("cols-"+r),a(r),$(n).hide().appendTo(".grout").each(function(){var o=parseInt($(this).attr("tile-width")),r=parseInt($(this).attr("tile-height"));i(o,r,this)}),$(".grout .row").remove();for(var l=[],c=0;c<t.length;c++){for(var f=!1,h=0;h<t[c].length;h++)t[c][h]&&(f=!0);f&&l.push($("<div class='row'>"))}$(l).each(function(){$(this).appendTo(".grout")});for(var c=0;c<t.length;c++)for(var h=0;h<t[c].length;h++)"object"==typeof t[c][h]&&$(t[c][h]).css({left:h*(100/r)+"%"}).appendTo($(l[c])).show()}};l(),e&&$().scrollsnap&&$(document).scrollsnap({snaps:".row",proximity:500,latency:100}),$(window).on("resize orientationchange",l),console.timeEnd("AceGrout")});