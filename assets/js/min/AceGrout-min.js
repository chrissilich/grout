$(document).ready(function(){console.time("AceGrout");var o=[0,768,768,1e3],r=!1,t=!1,e;window.grid=e;var n=$(".grout .tile");if(window.tiles=n,r){var s=function(){return Math.floor(255*Math.random())};$(n).each(function(){$(this).css("background-color","rgb("+s()+","+s()+","+s()+")")})}var a=function(o){e=[];for(var r=n.length,t=0;r>t;t++){for(var s=[],a=0;o>a;a++)s.push(null);e.push(s)}},l=function(o,r,t){for(var n=0;n<e.length;n++)for(var s=0;s<e[n].length;s++){for(var a=!1,l=0;r>l;l++)for(var i=0;o>i;i++)try{e[n+l][s+i]&&(a=!0)}catch(c){}if(!a){for(var l=0;r>l;l++)for(var i=0;o>i;i++)e[n+l][s+i]=!0;return void(e[n][s]=t)}}console.warn("No space found for tile",o,r,t)},i=function(){for(var r=0,t=$(window).innerWidth(),s=o.slice(0);t>s[0]&&s.length;)s.shift(),r++;if(!$(".grout").hasClass("cols-"+r)){console.log("RESIZING TO "+r+" COLUMNS!"),$(".grout").removeClass("cols-1").removeClass("cols-2").removeClass("cols-3").removeClass("cols-4").removeClass("cols-5").addClass("cols-"+r),a(r),$(n).hide().appendTo(".grout").each(function(){var o=parseInt($(this).attr("tile-width")),t=parseInt($(this).attr("tile-height"));o>r&&(o=r),1==r&&(t=1),l(o,t,this)}),$(".grout .row").remove();for(var i=[],c=0;c<e.length;c++){for(var h=!1,f=0;f<e[c].length;f++)e[c][f]&&(h=!0);h&&i.push($("<div class='row'>"))}$(i).each(function(){$(this).appendTo(".grout")});for(var c=0;c<e.length;c++)for(var f=0;f<e[c].length;f++)"object"==typeof e[c][f]&&$(e[c][f]).css({left:f*(100/r)+"%"}).appendTo($(i[c])).show();console.log(e)}};i(),t&&$().scrollsnap&&$(document).scrollsnap({snaps:".row",proximity:500,latency:300,duration:300}),$(window).on("resize orientationchange",i),console.timeEnd("AceGrout")});